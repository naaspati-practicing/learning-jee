plugins {
    id 'java-library'
}

repositories {
    jcenter()
}

ext.JUNIT_VERSION = '5.3.2'
ext.TRUTH_VERSION = '0.42'

dependencies {
   implementation 'org.eclipse.persistence:eclipselink:2.6.6'
   testImplementation 'com.h2database:h2:1.4.199'
 
   testImplementation 'com.thedeanda:lorem:2.1'
   testImplementation 'org.junit.jupiter:junit-jupiter-api:'+JUNIT_VERSION
  
   testImplementation 'org.junit.jupiter:junit-jupiter-params:'+JUNIT_VERSION
   testRuntime 'org.junit.jupiter:junit-jupiter-engine:'+JUNIT_VERSION
   
   // testImplementation 'com.google.truth:truth:'+TRUTH_VERSION
   // testImplementation 'com.google.truth.extensions:truth-java8-extension:'+TRUTH_VERSION
}

test {
  useJUnitPlatform()
  systemProperty 'java.util.logging.config.file','test-logging.properties'
  jvmArgs "\"-javaagent:${configurations.compileClasspath.filter({it.name == 'eclipselink-2.6.6.jar'})[0]}\""
}
